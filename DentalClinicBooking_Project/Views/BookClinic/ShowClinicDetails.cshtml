@using Newtonsoft.Json
@model DentalClinicBooking_Project.Models.ViewModels.ClinicDetailsModel

@{
}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BookClinic</title>
    <link href="~/css/clinicdetails.css" rel="stylesheet" />
    <link href="~/css/clinicdetails/collapse.css" rel="stylesheet" />
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>

<body>

    <div class="container">
        <nav class="homeClinic">
            <ul class="home">
                <li>
                    <a asp-area=""
                       asp-controller="Home"
                       asp-action="Index">
                        Trang chủ
                    </a>
                </li>
                <li>
                    <span class="separator">/</span>
                </li>
                <li>
                    <a asp-area=""
                       asp-controller="BookClinic"
                       asp-action="ShowAllClinics">
                        Phòng khám
                    </a>
                </li>
            </ul>
        </nav>
        <div class="containerClinicDetails" style="margin-top: 1rem; margin-right: 15rem">
            <div class="phongKhamClinicDetails" href="#">
                <div>
                    <img class="imgClinicDetails" alt="@Model.ClinicName"
                         src="@Model.MainImage?width=128&amp;height=128" />
                </div>

                <div class="lineClinicDetails">
                    <div>
                        <h2>@Model.ClinicName</h2>
                    </div>
                </div>
            </div>
        </div>
        <div class="informationButton">
            <a style="margin-left: 255rem"> Thông tin </a>
        </div>


        <div class="image-container">
            <button class="prev" onclick="prevImage()">&#10094;</button>
            <img id="mainImage"
                 src="@Model.ClinicImages.FirstOrDefault()?.Image"
                 alt="Ảnh" />
            <button class="next" onclick="nextImage()">&#10095;</button>
        </div>

        <script>
            let currentImageIndex = 0;
            const images = @Html.Raw(JsonConvert.SerializeObject(Model.ClinicImages.Select(m => m.Image).ToList()));

            function prevImage() {
                currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
                document.getElementById('mainImage').src = images[currentImageIndex];
            }

            function nextImage() {
                currentImageIndex = (currentImageIndex + 1) % images.length;
                document.getElementById('mainImage').src = images[currentImageIndex];
            }

            setInterval(nextImage, 3000); // Tự động chuyển ảnh sau mỗi 3 giây
        </script>

        <div>
            <button class="quickBooking"
                    onclick="window.location.href='https://localhost:7121/BookClinic/BookingClinic?id=@(Model.Id)'"
                    style="margin-left: 22rem">
                Đặt khám ngay
            </button>
        </div>
    </div>

    <div class="row information">
        <div class="col-md-6 info1" style="padding-left: 8rem; margin-bottom: 2rem;">
            <div class="content">
                <div class="text">
                    @Html.Raw(Model.Description)
                </div>
                <a class="toggle-button" style="text-decoration: none;"
                   id="toggleButton">Xem thêm...</a>
            </div>
        </div>

        <script src="~/js/clinicdetails/collapse.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

        <div class="col-md-6">
            <div class="working-hours-container">
                <h4 class="title">Giờ khám</h4>
                <div class="hours-list">
                    <ul class="days-columns">
                        <li class="day-item">
                            <div class="day-name">Buổi sáng</div>
                            <div class="day-time">7:00 - 9:00</div>
                            <div class="day-time">9:00 - 11:00</div>
                        </li>
                        <li class="day-item">
                            <div class="day-name">Buổi chiều</div>
                            <div class="day-time">13:00 - 15:00</div>
                            <div class="day-time">15:00 - 17:00</div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
    </div>
</body>
</html>
